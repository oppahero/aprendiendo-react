import './Cart.css'
import { useId } from 'react'
import { useCart } from '../hooks/useCart'
import { CartIcon, ClearCartIcon } from './Iconos'

function CartItem ({ title, price, quantity, thumbnail, addToCart }) {
  return (

    <li>
      <img
        src='data:image/jpeg;base64,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'
        alt={title}
      />
      <div>
        <strong>{title}</strong> - ${price}
      </div>
      <footer>
        <small>
          Qty: {quantity}
        </small>
        <button onClick={addToCart}>+</button>
      </footer>
    </li>
  )
}

export function Cart () {
  const cartCheckboxId = useId()
  const { cart, clearCart, addToCart } = useCart()

  return (
    <>
      <label className='cart-button' htmlFor={cartCheckboxId}>
        <CartIcon />
      </label>
      <input id={cartCheckboxId} type='checkbox' hidden />

      <aside className='cart'>
        <ul>
          {
            cart.map(product => (
              <CartItem
                key={product.id}
                {...product}
                addToCart={() => addToCart(product)}
              />
            ))
          }
        </ul>
        <button onClick={clearCart}>
          <ClearCartIcon />
        </button>
      </aside>
    </>
  )
}
